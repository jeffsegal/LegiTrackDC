{"version":3,"sources":["masters-populator.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,GAAR,CAAY,QAAZ,GAAuB,aAAvB;;AAEA,IAAI,UAAU,QAAQ,8BAAR,CAAV;;;;AAIJ,IAAI,UAAU,QAAQ,SAAR,CAAV;;;;;;;;;AASJ,QAAQ,IAAR,CAAa,EAAb,EAAiB,WAAjB,GACG,IADH,CACQ,MAAM;;AAEV,UAAQ,GAAR,CAAY,uBAAZ,EAFU;AAGV,UAAQ,qDAAR,EAA+D,UAAU,KAAV,EAAiB,QAAjB,EAA2B,IAA3B,EAAiC;AAC9F,QAAI,CAAC,KAAD,IAAU,SAAS,UAAT,IAAuB,GAAvB,EAA4B;AACxC,cAAQ,GAAR,CAAY,mBAAZ,EADwC;AAExC,UAAI,OAAO,KAAK,KAAL,CAAW,IAAX,CAAP,CAFoC;AAGxC,WAAK,IAAI,GAAJ,IAAW,IAAhB,EAAsB;AACpB,gBAAQ,MAAR,CAAe;AACb,gBAAM,GAAN;AACA,iBAAO,KAAK,GAAL,CAAP;SAFF,EADoB;OAAtB;KAHF;GAD6D,CAA/D,CAHU;CAAN,CADR,CAiBK,IAjBL,CAiBU,MAAM,EAAN,CAjBV","file":"masters-populator-compiled.js","sourcesContent":["'use strict';\n\nprocess.env.NODE_ENV = 'development';\n\nvar Masters = require('../api/masters/masters.model');\n//var config = require('./environment');\n//var mongoose = require('mongoose');\n//mongoose.Promise = require('bluebird');\nvar request = require('request');\n\n//// Connect to MongoDB\n//mongoose.connect(config.mongo.uri, config.mongo.options);\n//mongoose.connection.on('error', function(err) {\n//  console.error('MongoDB connection error: ' + err);\n//  process.exit(-1);\n//});\n\nMasters.find({}).removeAsync()\n  .then(() => {\n\n    console.log('Looking up Masters...');\n    request('http://lims.dccouncil.us/api/v1/masters/LIMSLookUps', function (error, response, body) {\n      if (!error && response.statusCode == 200) {\n        console.log('Saving Masters...');\n        var json = JSON.parse(body);\n        for (var key in json) {\n          Masters.create({\n            name: key,\n            value: json[key]\n          });\n        }\n      }\n    });\n\n  }).then(() => {\n});\n"]}